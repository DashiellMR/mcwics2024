{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>McRap</title> 
    <link rel="stylesheet" href="{% static 'css/output.css' %}">
</head>
<body>
    <div style="background-color:black;">
        <img src="{% static 'mcraplogo.png' %}" alt="Logo" height="75">
    </div>
    <br>
    <div style="background-color:#92221C;padding:20px;">
        <h1> Your Song </h1>
        {% for verse in rap_song %}
            <div>{{ verse }}</div> <!--PUT DISPLAY JAVASCRIPT HERE-->
        {% endfor %}

        <audio id="myAudio">
            <source src="{% static 'beat.mp3' %}" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>

        <button onclick="playAudio()" class="button-57" role="button" type="submit"><span class="text">Play</span>
        <span>Play</span></button>
    </div>
    <div style="background-color:#92221C;padding:20px;">
        <h1> sing along </h1>
        <div id = "line">

        </div>
    </div>
    <br>

    <script>
        function playAudio() {
          var audio = document.getElementById("myAudio");
          audio.play();
          for (let i = 0; i < (rap_list).length; i++){
            setTimeout( () => {display(rap_list[i])}, 3000 * i);
          }
        }

        function display(str){
            var msg = new SpeechSynthesisUtterance();
            msg.text = str;
            window.speechSynthesis.speak(msg);
            document.getElementById("line").innerHTML += str + "<br>";
        }

        
    </script>

</body>
</html>